# (おまけ) USB FDD フェイクブート用ディスクイメージ

## 概要

X68000 Z が起動する場合、エミュレータ上では 2 つの SDカードスロットを FDD に見立てて起動しますが、これを USB FDD からブートしているように見せるためのディスクイメージです。

※ 3.5インチ版の X68000 市販ソフトが X68000 Z で起動できるわけではありません


## 使用方法

1. X68000 Z の Pseudo SCSI 機能設定手順に従って、USB メモリの SCSI ディスクイメージ (HDSファイル) から起動できるように設定しておきます。
2. zusbfdboot1.hds または zusbfdboot2.hds ファイルを USB メモリの X68000Z フォルダ内にコピーします (zusbfdboot1.hds は USB FDD 1ドライブ版、zusbfdboot2.hds は 2ドライブ版です)。
3. `X68000Z/pscsi.ini` ファイルを編集して、USB メモリにコピーしたディスクイメージから起動するように設定します。
    ```
    [pscsi]
    ID0=zusbfdboot1.hds   (または zusbfdboot2.hds)
    ```
4. X68000 Z に 2. の USB メモリと USB FDD を接続し、USB FDD に起動したいディスクを入れた状態で X68000 Z を起動します。
5. USB FDD 内のディスクから起動します (起動しているように見えます)。


## 動作原理

使用方法の手順からも分かる通り、実態は USB メモリの SCSI ディスクイメージからの起動です。
ディスクイメージ内の Human68k version 3.02 を読み込んで起動しますが、起動後に使われる SCSI デバイスドライバを USB FDD ドライバと差し替えてあり、CONFIG.SYS の読み込み以降のディスクアクセスを USB FDD に対して行うことで、FDD 起動のように見せかけています。

このため、以下のようなディスクからは起動できません。

* 起動にHuman68kを使用しないもの
* Human68k 3.02 では動作しないもの (ディスク上のHUMAN.SYSの代わりにSCSIディスクイメージのものが使われるため)
* ディスクに対して DOS コール以外の手段でアクセスするもの (市販ソフトのコピープロテクトチェックなどもこれに含まれます)

起動後のドライブ構成は以下のようになります。

* zusbfdboot1.hds の場合
  - A: USB FDD ドライブ
  - B: X68000 Z 本体のドライブ 0 (SDカード内のディスクイメージ)
  - C: X68000 Z 本体のドライブ 1 (SDカード内のディスクイメージ)
* zusbfdboot2.hds の場合
  - A: USB FDD ドライブ (1台目)
  - B: USB FDD ドライブ (2台目)
  - C: X68000 Z 本体のドライブ 0 (SDカード内のディスクイメージ)
  - D: X68000 Z 本体のドライブ 1 (SDカード内のディスクイメージ)
