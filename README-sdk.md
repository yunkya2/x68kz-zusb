# X68000 Z ZUSB 対応ソフトウェア開発キット (GIT_REPO_VERSION)

Copyright (c) 2025 Yuichi Nakamura (@yunkya2)

URL: https://github.com/yunkya2/x68kz-zusb

## 概要

このディレクトリには、ZUSB で USB デバイスを扱うソフトウェアを C 言語や X-BASIC を使って開発するためのソフトウェア開発キット (SDK) が入っています。

## 使用方法

### クロス開発環境用

`cross/` ディレクトリにはクロス開発環境 [elf2x68k](https://github.com/yunkya2/elf2x68k) で ZUSB 対応ソフトウェアを開発するためのヘッダファイルとサンプルが入っています。

Linux や macOS など elf2x68k をインストールした環境上で、`cross/` ディレクトリ内で make を実行するとサンプルプログラムがコンパイルされます。

自分のソフトウェアから ZUSB 機能を利用するには、`cross/include` 内のヘッダファイルを自身のソースコードの任意のディレクトリにコピーし、コンパイル時のオプション指定 (`-I`) でヘッダファイルをこのディレクトリから include するようにしてください。

### XC, gcc 用

`xc/` ディレクトリには XC や gcc など、X68000 自体の開発環境上で ZUSB 対応ソフトウェアを開発するためのヘッダファイル、ライブラリとサンプルが入っています。

XC をインストールした環境上で、`xc/` ディレクトリ内で make を実行するとサンプルプログラムがコンパイルされます。

自分のソフトウェアから ZUSB 機能を利用するには、`xc/include` 内のヘッダファイルと `xc/lib` 内のライブラリを自身のソースコードの任意のディレクトリにコピーし、コンパイル時のオプション指定 (`/I`) でヘッダファイルをこのディレクトリから include し、リンク時のオプション指定 (`/Y`) でライブラリ `libzusb.l` をリンクするようにしてください。

### X-BASIC 用

`basic/` ディレクトリには X-BASIC から ZUSB 機能を利用するための外部関数 `ZUSB.FNC` とサンプルが入っています。

X-BASIC のあるディレクトリに `ZUSB.FNC` を置いて、コンフィグレーションファイル BASIC.CNF に

```
FUNC = ZUSB
```

という行を追加することで、使用できるようになります。

サンプルプログラムは X-BASIC 上から load, run することで実行できます。

## ライセンス

ヘッダファイルやライブラリなど、SDK に含まれるソースコード、バイナリ、サンプルはすべて MIT ライセンスとします。
ZUSB 対応ソフトウェアを開発する際は自由に使っていただいて構いません。
